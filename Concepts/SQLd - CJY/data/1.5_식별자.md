# 5. 식별자

## 5.1 식별자 개념

```
데이터 모델링 유의점에서 배웠듯 데이터는 유일성이 보장되어야 한다. 이는 여러 상황에서 데이터를 이용할 때 혼란을 피하기 위함이다.

인스턴스들을 구분하기 위한 구분자를 식별자라 한다. 

식별자와 키는 다른 용어이다. 

식별자는 업무적으로 구분이 되는 정보로 생각할 수 있으므로 논리 데이터 모델링 단계에서 사용하고 

키는 데이터베이스 테이블에 접근을 위한 매개체로서 물리 데이터 모델링 단계에서 사용한다.
```

## 5.2 식별자의 특징

```
주식별자인지 외부식별자인지 등에 따라 특징의 차이가 있다.

주식별자의 특징

유일성 : 주식별자에 의해 엔터티내에 모든 인스턴스들을 유일하게 구분함
최소성 : 주식별자를 구성하는 속성의 수는 유일성을 만족하는 최소의 수가 되어야 함
불변성 : 주식별자가 한 번 특정 엔터티에 지정되면 그 식별자의 값은 변하지 않아야 함
존재성 : 주식별자가 지정되면 반드시 데이터 값이 존재 (Null 안됨)
```

## 5.3 식별자 분류 및 표기법

- 식별자의 분류

```
엔터티 내에서 대표성을 가지는가?
주식별자 (Primary Identifier), 보조식별자(Alternate Identifier)

엔터티 내에서 스스로 생성되었는가?
내부식별자, 외부식별자 (Foreign Idetifier)

단일 속성으로 식별이 되는가?
단일식별자(Single Identifier), 복합식별자(Composit Idetifier)

업무적으로 만들어지는가?
본질식별자, 인조식별자
```

- 식별자 표기법
![식별자_표기법](./%EC%8B%9D%EB%B3%84%EC%9E%90_%ED%91%9C%EA%B8%B0%EB%B2%95.PNG)

## 5.4 주식별자 도출기준

```
주식별자를 도출하기 위한 기준을 정리하면 다음과 같다.

1. 해당 업무에서 자주 이용되는 속성을 주식별자로 지정한다.

2. 명칭, 내역 등과 같이 이름으로 기술되는 것들은 가능하면 주식별자로 지정하지 않는다.

3. 복합으로 주식별자로 구성할 경우 너무 많은 속성이 포함되지 않도록 한다.

복합으로 식별되는 대상을 인조식별자로 대체하였을 경우 데이터 조작의 간편함을 얻을 수 있으므로, 주 식별자를 신중하게 정의하는 것이 중요하다.
```

## 5.5 식별자관계와 비식별자관계에 따른 식별자

- 식별자관계와 식별자 관계의 결정
```
외부식별자는 자기 자신의 엔터티에서 필요한 속성이 아니라 다른 엔터티와의 관계를 통해 자식 쪽에 엔터티에 생성되는 속성을 외부 식별자라 하며 데이터 베이스 생성 시에 Foreign Key 역할을 한다.

엔터티간 관계를 연결하면 부모쪽의 주식별자를 자식 엔터티의 속성으로 내려 보낸다. 이 때 부모의 주식별자를 외부식별자로 이용할 지 연결이 되는 속성으로만 이용할 것인지 결정해야 한다.
```

- 식별자 관계
```
부모로부터 받은 식별자를 자식엔터티의 주식별자로 이용하는 경우는 부모엔터티가 생성되어야 자기 자신의 엔터티가 생성되는 경우이다.

이와 같이 자식엔터티의 주식별자로 부모의 주식별자가 상속이 되는 경우를 식별자 관계라고 지칭한다.
```

- 비식별자관계
```
부모엔터티로부터 속성을 받았지만 자식엔터티의 주식별자로 사용하지 않고 일반적인 소성으로 사용하는 경우를 비식별자 관계라고 한다.

다음은 일반적으로 비식별자 관계에 의해 외부속성을 생성하는 경우이다.

1. 자식엔터티에서 받은 속성이 반드시 필수가 아니어도 무방하기 때문

2. 엔터티별로 데이터의 생명주기를 다르게 관리할 경우 (자식만 남겨두고 먼저 소멸될 수 있는 경우)


3. 여러 개의 엔터티가 하나의 엔터티로 통합되어 있었는데 각각의 엔터티가 별도의 관계를 가질 때

4. 자식엔터티에 주식별자로 사용하여도 되지만 자식 엔터티에서 별도의 주식별자를 생성하는 것이 유리하다고 판단될 때
```


- 식별자 관계와 비식별자 관계의 모델링
```
이 부분은 상당히 길게 설명되어 있다.

아무래도 식별자 관계를 잘 구성하는 것이 매우 중요하기 때문일 것이다...
```
